<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–î–ª—è –ê—Ä–∏–Ω—ã üíñ</title>
    <style>
      body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #29204b, #f7e8ff);
        overflow: hidden;
        font-family: "Georgia", serif;
      }

      .content {
        text-align: center;
        background: rgba(255, 255, 255, 0.7);
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 0 30px rgba(255, 182, 193, 0.5);
        z-index: 2;
        position: relative;
        max-width: 640px;
        width: 90%;
        backdrop-filter: blur(6px);
        animation: fadeIn 2s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.95);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      h1 {
        font-size: 2em;
        color: #d63384;
        margin-bottom: 15px;
        font-family: "Playfair Display", serif;
      }

      .poem {
        font-size: 1.2em;
        color: #444;
        line-height: 1.6;
        min-height: 160px;
        font-style: italic;
        word-wrap: break-word;
        position: relative;
        overflow: hidden;
      }

      .poem p {
        opacity: 0;
        transform: translateY(10px);
        transition: all 1s ease;
        margin: 4px 0;
      }

      .poem p.show {
        opacity: 1;
        transform: translateY(0);
      }

      /* ‚ú® –ø–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏–µ */
      .slide-out {
        animation: slideOut 0.6s forwards ease;
      }

      .slide-in {
        animation: slideIn 0.6s forwards ease;
      }

      @keyframes slideOut {
        from {
          opacity: 1;
          transform: translateX(0);
        }
        to {
          opacity: 0;
          transform: translateX(-50px);
        }
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(50px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .controls {
        margin-top: 20px;
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
      }

      button {
        background: #ffb6c1;
        color: white;
        border: none;
        padding: 10px 16px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 1em;
        transition: 0.3s;
      }

      button:hover {
        background: #e06a8d;
      }

      /* –õ—É–Ω–∞ */
      .moon {
        position: absolute;
        top: 40px;
        right: 40px;
        width: 100px;
        height: 100px;
        background: radial-gradient(circle, #fffce8, #f8e4b7);
        border-radius: 50%;
        box-shadow: 0 0 60px rgba(255, 248, 200, 0.9);
        z-index: 1;
        animation: pulse 4s infinite ease-in-out;
      }

      @keyframes pulse {
        0%,
        100% {
          box-shadow: 0 0 40px rgba(255, 248, 200, 0.7);
        }
        50% {
          box-shadow: 0 0 70px rgba(255, 248, 200, 1);
        }
      }

      /* –ó–≤—ë–∑–¥—ã */
      .star {
        position: absolute;
        width: 2px;
        height: 2px;
        background: white;
        border-radius: 50%;
        opacity: 0.8;
        animation: twinkle 4s infinite ease-in-out;
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.2;
        }
        50% {
          opacity: 1;
        }
      }

      /* Canvas –¥–ª—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ */
      #confetti {
        position: fixed;
        top: 0;
        left: 0;
        pointer-events: none;
        z-index: 3;
      }

      /* üì± –ê–¥–∞–ø—Ç–∏–≤ */
      @media (max-width: 600px) {
        h1 {
          font-size: 1.6em;
        }
        .poem {
          font-size: 1em;
          min-height: 120px;
        }
        .moon {
          width: 70px;
          height: 70px;
          top: 20px;
          right: 20px;
        }
        button {
          padding: 8px 12px;
          font-size: 0.9em;
        }
      }
    </style>
  </head>
  <body>
    <div class="moon"></div>
    <div class="content">
      <h1>–î–ª—è –ê—Ä–∏–Ω—ã</h1>
      <div id="poem" class="poem"></div>
      <div class="controls">
        <button id="prev">‚Üê</button>
        <button id="next">‚Üí</button>
        <button id="music">üéµ Play</button>
      </div>
    </div>

    <canvas id="confetti"></canvas>

    <script>
      // ---- –°–¢–ò–•–ò ----
      const poems = [
        `–û–¥–∏–Ω –ª–∏—à—å –º–µ—Å—è—Ü ‚Äî –∞ –∫–∞–∫ –º–Ω–æ–≥–æ,\n–í –¥—É—à–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å –¥–æ–±—Ä—ã—Ö —á—É–≤—Å—Ç–≤.\n–° —Ç–æ–±–æ–π –∏ —Ä–∞–¥–æ—Å—Ç–Ω–æ, –∏ —Å—Ç—Ä–æ–≥–æ,\n–¢—ã –¥–∞—Ä–∏—à—å —Å–≤–µ—Ç, —Ç–µ–ø–ª–æ –∏ –≤–∫—É—Å.\n\n–°–ø–∞—Å–∏–±–æ –∑–∞ –º–∏–Ω—É—Ç—ã —Å—á–∞—Å—Ç—å—è,\n–ó–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –¥–æ –∑–∞—Ä–∏.\n–¢—ã —Å—Ç–∞–ª–∞ –±–ª–∏–∂–µ, —á–µ–º –∫–∞–∑–∞–ª–∞—Å—å,\n–ë–ª–∞–≥–æ–¥–∞—Ä—é —Ç–µ–±—è, –ê—Ä–∏–Ω!`,

        `–Ø –Ω–µ –º–æ–≥—É –ø–æ–Ω—è—Ç—å, —á—Ç–æ –≤ —Å–µ—Ä–¥—Ü–µ —Å—Ç–∞–ª–æ,\n
–ö–æ–≥–¥–∞ —Å —Ç–æ–±–æ–π —è –≥–æ–≤–æ—Ä—é –≤—Å–µ—Ä—å—ë–∑.\n
–ö–∞–∫ –±—É–¥—Ç–æ —Å–≤–µ—Ç–∞ –º–Ω–µ –≤–Ω–µ–∑–∞–ø–Ω–æ –º–∞–ª–æ,\n
–ò –≥—Ä–µ–µ—Ç –ø–∞–º—è—Ç—å –æ —Ç–µ–ø–ª–µ –∏–∑ –≥—Ä—ë–∑.\n\n

–ü—É—Å—Ç—å –Ω–æ—á—å —É–∫—Ä–æ–µ—Ç —Å–Ω–æ–º —Å–ø–æ–∫–æ–π–Ω—ã–º,\n
–ò –∑–≤—ë–∑–¥—ã —à–µ–ø—á—É—Ç –æ –ª—é–±–≤–∏.\n
–ü—É—Å—Ç—å —É—Ç—Ä–æ –±—É–¥–µ—Ç –¥–æ–±—Ä—ã–º, —Å–æ–ª–Ω–µ—á–Ω—ã–º,\n
–ß—Ç–æ–± —Å—á–∞—Å—Ç—å–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–æ—Å—å –≤ –ø—É—Ç–∏.`,
        `–ü—É—Å—Ç—å –Ω–æ—á—å —É–∫—Ä–æ–µ—Ç —Ç–∏—à–∏–Ω–æ–π,\n
–ò —Å–Ω—ã –ø–æ–¥–∞—Ä—è—Ç –º–∏—Ä –∫—Ä–∞—Å–∏–≤—ã–π,\n
–ü—É—Å–∫–∞–π —Ç–∞–º –ø–∞—Ö–Ω–µ—Ç, –∫–∞–∫ Deli‚Äåna,\n
–ù–∞–ø–æ–º–∏–Ω–∞—è –¥–æ–º —Ä–æ–¥–Ω–æ–π.\n\n

–ù–∏ –≥—Ä—É—Å—Ç–∏ —Å–≤–µ—Ç–ª–æ–π, –Ω–∏ —Ç–æ—Å–∫–∏,\n
–û–¥–Ω–∞ –ª–∏—à—å —Ä–∞–¥–æ—Å—Ç—å –∏ —É–ª—ã–±–∫–∏,\n
–ü—É—Å—Ç—å —Å–æ–Ω –≤–æ–ª—à–µ–±–Ω—ã–π –¥–æ –∑–∞—Ä–∏\n
–¢–µ–±—è —Ö—Ä–∞–Ω–∏—Ç –≤ –æ–±—ä—è—Ç—å—è—Ö –∑—ã–±–∫–∏—Ö.`,

        `–ê—Ä–∏–Ω–∞ ‚Äî –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ –∏–º—è\n
–í –Ω—ë–º –Ω–µ–∂–Ω–æ—Å—Ç—å –∏ —Å–≤–µ—Ç —á–∏—Å—Ç–æ—Ç—ã.\n
–û–Ω–æ –¥–ª—è –º–µ–Ω—è, —Å–ª–æ–≤–Ω–æ –ø–ª–∞–º—è,\n
–ß—Ç–æ –≥—Ä–µ–µ—Ç –≤ —Ö–æ–ª–æ–¥–Ω–æ–π —Ç–∏—à–∏.\n

–ó–≤—É—á–∏—Ç –æ–Ω–æ –º—è–≥–∫–æ –∏ –∑–≤–æ–Ω–∫–æ,\n
–ö–∞–∫ –ø–µ—Å–Ω—è, —Ä–æ–∂–¥—ë–Ω–Ω–∞—è –≤ —Å–Ω–∞—Ö.\n
–í –Ω—ë–º —Ä–∞–¥–æ—Å—Ç—å, –Ω–∞–¥–µ–∂–¥–∞ –∏ —Ç–æ–Ω–∫–æ—Å—Ç—å,\n
–ò –Ω–µ–∂–Ω–æ—Å—Ç—å –≤ –ª—é–±–∏–º—ã—Ö —Å–ª–æ–≤–∞—Ö.\n

–ù–µ —Å–ª—ã—à–∞–ª —Å–µ–≥–æ–¥–Ω—è —è –≥–æ–ª–æ—Å,\n
–ò —Å—Ç–∞–ª–æ —á—É—Ç—å —Ç–∏—à–µ –≤–Ω—É—Ç—Ä–∏.\n
–ü—É—Å—Ç—å –Ω–æ—á—å –ø—Ä–∏–Ω–µ—Å—ë—Ç –µ–≥–æ —Å–Ω–æ–≤–∞ ‚Äî\n
–í–æ —Å–Ω–µ –º–Ω–µ, –∫–∞–∫ —ç—Ö–æ, –∑–≤–µ–Ω–∏—Ç.\n`,
      ];

      let current = 0;
      const poemEl = document.getElementById("poem");

      function showPoem(i, direction = "next") {
        // —ç—Ñ—Ñ–µ–∫—Ç —É—Ö–æ–¥–∞
        if (poemEl.children.length) {
          poemEl.classList.add("slide-out");
          setTimeout(() => {
            poemEl.classList.remove("slide-out");
            renderPoem(i);
            poemEl.classList.add("slide-in");
            setTimeout(() => poemEl.classList.remove("slide-in"), 600);
          }, 600);
        } else {
          renderPoem(i);
        }
      }

      function renderPoem(i) {
        poemEl.innerHTML = "";
        const lines = poems[i].split("\n");
        lines.forEach((line, idx) => {
          const p = document.createElement("p");
          p.textContent = line;
          poemEl.appendChild(p);
          setTimeout(() => p.classList.add("show"), 400 * idx);
        });
      }

      showPoem(current);

      document.getElementById("prev").onclick = () => {
        current = (current - 1 + poems.length) % poems.length;
        showPoem(current, "prev");
      };
      document.getElementById("next").onclick = () => {
        current = (current + 1) % poems.length;
        showPoem(current, "next");
      };

      // ---- –ú–£–ó–´–ö–ê ----
      const audio = new Audio("music.mp3");
      let playing = false;
      const musicBtn = document.getElementById("music");
      musicBtn.onclick = () => {
        if (!playing) {
          audio.play();
          musicBtn.textContent = "‚è∏ Pause";
        } else {
          audio.pause();
          musicBtn.textContent = "üéµ Play";
        }
        playing = !playing;
      };

      // ---- –ö–û–ù–§–ï–¢–¢–ò ----
      const confettiCanvas = document.getElementById("confetti");
      const ctx = confettiCanvas.getContext("2d");
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;

      const confettiPieces = [];
      for (let i = 0; i < 200; i++) {
        confettiPieces.push({
          x: Math.random() * confettiCanvas.width,
          y: Math.random() * confettiCanvas.height,
          r: Math.random() * 6 + 2,
          d: Math.random() * 300,
          color: `hsl(${Math.random() * 360}, 100%, 70%)`,
          tilt: Math.random() * 10 - 10,
        });
      }

      function drawConfetti() {
        ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
        confettiPieces.forEach((p) => {
          ctx.beginPath();
          ctx.fillStyle = p.color;
          ctx.fillRect(p.x, p.y, p.r, p.r);
          ctx.closePath();
        });
        updateConfetti();
      }

      function updateConfetti() {
        confettiPieces.forEach((p) => {
          p.y += Math.cos(p.d) + 1 + p.r / 2;
          p.x += Math.sin(p.d);
          if (p.y > confettiCanvas.height) {
            p.y = 0;
            p.x = Math.random() * confettiCanvas.width;
          }
        });
      }

      function animateConfetti() {
        drawConfetti();
        requestAnimationFrame(animateConfetti);
      }
      animateConfetti();

      // ---- –ó–í–Å–ó–î–´ ----
      for (let i = 0; i < 100; i++) {
        let star = document.createElement("div");
        star.className = "star";
        star.style.top = Math.random() * window.innerHeight + "px";
        star.style.left = Math.random() * window.innerWidth + "px";
        star.style.animationDuration = 3 + Math.random() * 4 + "s";
        document.body.appendChild(star);
      }

      // üì± –ü–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å canvas –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞
      window.addEventListener("resize", () => {
        confettiCanvas.width = window.innerWidth;
        confettiCanvas.height = window.innerHeight;
      });
    </script>
  </body>
</html>
