<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–î–ª—è –ê—Ä–∏–Ω—ã</title>
    <style>
      body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #29204b, #764ba2, #f7e8ff);
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
        overflow: hidden;
        font-family: "Georgia", serif;
        transition: background 2s ease;
      }

      @keyframes gradientShift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
      }

      .content {
        text-align: center;
        background: rgba(255, 255, 255, 0.85);
        padding: 35px;
        border-radius: 25px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2),
                    0 0 80px rgba(255, 182, 193, 0.4);
        z-index: 2;
        position: relative;
        max-width: 640px;
        width: 90%;
        backdrop-filter: blur(12px);
        animation: fadeIn 2s ease, subtleFloat 6s ease-in-out infinite;
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      @keyframes subtleFloat {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-8px); }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.95);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      h1 {
        font-size: 2.2em;
        color: #d63384;
        margin-bottom: 15px;
        font-family: "Playfair Display", serif;
        cursor: pointer;
        transition: all 0.3s ease;
        text-shadow: 0 2px 15px rgba(214, 51, 132, 0.3);
      }

      h1:hover {
        transform: scale(1.05);
        text-shadow: 0 2px 20px rgba(214, 51, 132, 0.5);
      }

      .poem {
        font-size: 1.2em;
        color: #444;
        line-height: 1.8;
        min-height: 160px;
        font-style: italic;
        word-wrap: break-word;
        position: relative;
        overflow: hidden;
        padding: 20px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 15px;
        margin: 15px 0;
      }

      .poem p {
        opacity: 0;
        transform: translateY(10px);
        transition: all 1s ease;
        margin: 4px 0;
      }

      .poem p.show {
        opacity: 1;
        transform: translateY(0);
      }

      .slide-out {
        animation: slideOut 0.6s forwards ease;
      }

      .slide-in {
        animation: slideIn 0.6s forwards ease;
      }

      @keyframes slideOut {
        from {
          opacity: 1;
          transform: translateX(0);
        }
        to {
          opacity: 0;
          transform: translateX(-50px);
        }
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(50px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .controls {
        margin-top: 20px;
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
      }

      button {
        background: linear-gradient(135deg, #ffb6c1, #ff91a4);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 1em;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(255, 182, 193, 0.4);
        font-weight: 500;
        position: relative;
        overflow: hidden;
      }

      button::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
      }

      button:hover {
        background: linear-gradient(135deg, #ff91a4, #e06a8d);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(255, 182, 193, 0.6);
      }

      button:hover::before {
        width: 300px;
        height: 300px;
      }

      button:active {
        transform: translateY(0);
      }

      /* –õ—É–Ω–∞ */
      .moon {
        position: absolute;
        top: 40px;
        right: 40px;
        width: 110px;
        height: 110px;
        background: radial-gradient(circle at 30% 30%, #ffffff, #fffce8, #f8e4b7);
        border-radius: 50%;
        box-shadow: 0 0 70px rgba(255, 248, 200, 0.9),
                    0 0 100px rgba(118, 75, 162, 0.2);
        z-index: 1;
        animation: pulse 4s infinite ease-in-out;
        cursor: pointer;
        transition: transform 0.3s ease;
      }

      .moon:hover {
        transform: scale(1.1);
      }

      @keyframes pulse {
        0%,
        100% {
          box-shadow: 0 0 50px rgba(255, 248, 200, 0.7),
                      0 0 80px rgba(118, 75, 162, 0.2);
        }
        50% {
          box-shadow: 0 0 90px rgba(255, 248, 200, 1),
                      0 0 120px rgba(118, 75, 162, 0.4);
        }
      }

      /* –ó–≤—ë–∑–¥—ã */
      .star {
        position: absolute;
        width: 3px;
        height: 3px;
        background: white;
        border-radius: 50%;
        opacity: 0.8;
        animation: twinkle 4s infinite ease-in-out;
        box-shadow: 0 0 6px rgba(255, 255, 255, 0.8);
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.3;
          transform: scale(1);
        }
        50% {
          opacity: 1;
          transform: scale(1.3);
        }
      }

      /* –ü–∞–¥–∞—é—â–∞—è –∑–≤–µ–∑–¥–∞ */
      .falling-star {
        position: absolute;
        width: 3px;
        height: 3px;
        background: white;
        border-radius: 50%;
        box-shadow: 0 0 10px white, 0 0 20px rgba(255, 255, 255, 0.6);
        animation: fall 2s linear forwards;
      }

      @keyframes fall {
        from {
          transform: translate(0, 0) rotate(0deg);
          opacity: 1;
        }
        to {
          transform: translate(300px, 600px) rotate(360deg);
          opacity: 0;
        }
      }

      /* –°–µ—Ä–¥–µ—á–∫–∏ */
      .heart {
        position: absolute;
        font-size: 30px;
        pointer-events: none;
        animation: heartFloat 3s ease-out forwards;
      }

      @keyframes heartFloat {
        0% {
          transform: translateY(0) scale(1);
          opacity: 1;
        }
        100% {
          transform: translateY(-150px) scale(0.5);
          opacity: 0;
        }
      }

      /* üì± –ê–¥–∞–ø—Ç–∏–≤ */
      @media (max-width: 600px) {
        h1 {
          font-size: 1.8em;
        }
        .poem {
          font-size: 1.1em;
          min-height: 140px;
          padding: 15px;
        }
        .moon {
          width: 85px;
          height: 85px;
          top: 20px;
          right: 20px;
        }
        button {
          padding: 10px 16px;
          font-size: 0.95em;
        }
        .content {
          padding: 25px;
        }
      }
    </style>
  </head>
  <body>
    <div class="moon"></div>
    <div class="content">
      <h1 id="title">–î–ª—è –ê—Ä–∏–Ω—ã</h1>
      <div id="poem" class="poem"></div>
      <div class="controls">
        <button id="prev">‚Üê</button>
        <button id="next">‚Üí</button>
        <button id="music">üéµ Play</button>
        <button id="shooting">üå† –ó–≤–µ–∑–¥–∞</button>
      </div>
    </div>

    <script>
      // ---- –°–¢–ò–•–ò ----
      const poems = [
        `–û–¥–∏–Ω –ª–∏—à—å –º–µ—Å—è—Ü ‚Äî –∞ –∫–∞–∫ –º–Ω–æ–≥–æ,\n–í –¥—É—à–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å –¥–æ–±—Ä—ã—Ö —á—É–≤—Å—Ç–≤.\n–° —Ç–æ–±–æ–π –∏ —Ä–∞–¥–æ—Å—Ç–Ω–æ, –∏ —Å—Ç—Ä–æ–≥–æ,\n–¢—ã –¥–∞—Ä–∏—à—å —Å–≤–µ—Ç, —Ç–µ–ø–ª–æ –∏ –≤–∫—É—Å.\n\n–°–ø–∞—Å–∏–±–æ –∑–∞ –º–∏–Ω—É—Ç—ã —Å—á–∞—Å—Ç—å—è,\n–ó–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –¥–æ –∑–∞—Ä–∏.\n–¢—ã —Å—Ç–∞–ª–∞ –±–ª–∏–∂–µ, —á–µ–º –∫–∞–∑–∞–ª–æ—Å—å,\n–ë–ª–∞–≥–æ–¥–∞—Ä—é —Ç–µ–±—è, –ê—Ä–∏–Ω!`,

        `–Ø –Ω–µ –º–æ–≥—É –ø–æ–Ω—è—Ç—å, —á—Ç–æ –≤ —Å–µ—Ä–¥—Ü–µ —Å—Ç–∞–ª–æ,\n–ö–æ–≥–¥–∞ —Å —Ç–æ–±–æ–π —è –≥–æ–≤–æ—Ä—é –≤—Å–µ—Ä—å—ë–∑.\n–ö–∞–∫ –±—É–¥—Ç–æ —Å–≤–µ—Ç–∞ –º–Ω–µ –≤–Ω–µ–∑–∞–ø–Ω–æ –º–∞–ª–æ,\n–ò –≥—Ä–µ–µ—Ç –ø–∞–º—è—Ç—å –æ —Ç–µ–ø–ª–µ –∏–∑ –≥—Ä—ë–∑.\n\n–ü—É—Å—Ç—å –Ω–æ—á—å —É–∫—Ä–æ–µ—Ç —Å–Ω–æ–º —Å–ø–æ–∫–æ–π–Ω—ã–º,\n–ò –∑–≤—ë–∑–¥—ã —à–µ–ø—á—É—Ç –æ –ª—é–±–≤–∏.\n–ü—É—Å—Ç—å —É—Ç—Ä–æ –±—É–¥–µ—Ç –¥–æ–±—Ä—ã–º, —Å–æ–ª–Ω–µ—á–Ω—ã–º,\n–ß—Ç–æ–± —Å—á–∞—Å—Ç—å–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–æ—Å—å –≤ –ø—É—Ç–∏.`,

        `–ü—É—Å—Ç—å –Ω–æ—á—å —É–∫—Ä–æ–µ—Ç —Ç–∏—à–∏–Ω–æ–π,\n–ò —Å–Ω—ã –ø–æ–¥–∞—Ä—è—Ç –º–∏—Ä –∫—Ä–∞—Å–∏–≤—ã–π,\n–ü—É—Å–∫–∞–π —Ç–∞–º –ø–∞—Ö–Ω–µ—Ç, –∫–∞–∫ Deli‚Äåna,\n–ù–∞–ø–æ–º–∏–Ω–∞—è –¥–æ–º —Ä–æ–¥–Ω–æ–π.\n\n–ù–∏ –≥—Ä—É—Å—Ç–∏ —Å–≤–µ—Ç–ª–æ–π, –Ω–∏ —Ç–æ—Å–∫–∏,\n–û–¥–Ω–∞ –ª–∏—à—å —Ä–∞–¥–æ—Å—Ç—å –∏ —É–ª—ã–±–∫–∏,\n–ü—É—Å—Ç—å —Å–æ–Ω –≤–æ–ª—à–µ–±–Ω—ã–π –¥–æ –∑–∞—Ä–∏\n–¢–µ–±—è —Ö—Ä–∞–Ω–∏—Ç –≤ –æ–±—ä—è—Ç—å—è—Ö –∑—ã–±–∫–∏—Ö.`,

        `–ê—Ä–∏–Ω–∞ ‚Äî –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ –∏–º—è\n–í –Ω—ë–º –Ω–µ–∂–Ω–æ—Å—Ç—å –∏ —Å–≤–µ—Ç —á–∏—Å—Ç–æ—Ç—ã.\n–û–Ω–æ –¥–ª—è –º–µ–Ω—è, —Å–ª–æ–≤–Ω–æ –ø–ª–∞–º—è,\n–ß—Ç–æ –≥—Ä–µ–µ—Ç –≤ —Ö–æ–ª–æ–¥–Ω–æ–π —Ç–∏—à–∏.\n\n–ó–≤—É—á–∏—Ç –æ–Ω–æ –º—è–≥–∫–æ –∏ –∑–≤–æ–Ω–∫–æ,\n–ö–∞–∫ –ø–µ—Å–Ω—è, —Ä–æ–∂–¥—ë–Ω–Ω–∞—è –≤ —Å–Ω–∞—Ö.\n–í –Ω—ë–º —Ä–∞–¥–æ—Å—Ç—å, –Ω–∞–¥–µ–∂–¥–∞ –∏ —Ç–æ–Ω–∫–æ—Å—Ç—å,\n–ò –Ω–µ–∂–Ω–æ—Å—Ç—å –≤ –ª—é–±–∏–º—ã—Ö —Å–ª–æ–≤–∞—Ö.\n\n–ù–µ —Å–ª—ã—à–∞–ª —Å–µ–≥–æ–¥–Ω—è —è –≥–æ–ª–æ—Å,\n–ò —Å—Ç–∞–ª–æ —á—É—Ç—å —Ç–∏—à–µ –≤–Ω—É—Ç—Ä–∏.\n–ü—É—Å—Ç—å –Ω–æ—á—å –ø—Ä–∏–Ω–µ—Å—ë—Ç –µ–≥–æ —Å–Ω–æ–≤–∞ ‚Äî\n–í–æ —Å–Ω–µ –º–Ω–µ, –∫–∞–∫ —ç—Ö–æ, –∑–≤–µ–Ω–∏—Ç.`,
      ];

      let current = 0;
      const poemEl = document.getElementById("poem");

      function showPoem(i) {
        if (poemEl.children.length) {
          poemEl.classList.add("slide-out");
          setTimeout(() => {
            poemEl.classList.remove("slide-out");
            renderPoem(i);
            poemEl.classList.add("slide-in");
            setTimeout(() => poemEl.classList.remove("slide-in"), 600);
          }, 600);
        } else {
          renderPoem(i);
        }
      }

      function renderPoem(i) {
        poemEl.innerHTML = "";
        const lines = poems[i].split("\n");
        lines.forEach((line, idx) => {
          const p = document.createElement("p");
          p.textContent = line;
          poemEl.appendChild(p);
          setTimeout(() => p.classList.add("show"), 400 * idx);
        });
      }

      showPoem(current);

      document.getElementById("prev").onclick = () => {
        current = (current - 1 + poems.length) % poems.length;
        showPoem(current);
      };
      document.getElementById("next").onclick = () => {
        current = (current + 1) % poems.length;
        showPoem(current);
      };

      // ---- –ú–£–ó–´–ö–ê ----
      const audio = new Audio("music.mp3");
      audio.volume = 0;
      let playing = false;
      const musicBtn = document.getElementById("music");

      musicBtn.onclick = () => {
        if (!playing) {
          audio.play();
          fadeIn(audio);
          musicBtn.textContent = "‚è∏ Pause";
        } else {
          audio.pause();
          musicBtn.textContent = "üéµ Play";
        }
        playing = !playing;
      };

      function fadeIn(audio) {
        let vol = 0;
        const fade = setInterval(() => {
          if (vol < 1) {
            vol += 0.05;
            audio.volume = vol;
          } else {
            clearInterval(fade);
          }
        }, 200);
      }

      // ---- –ó–í–Å–ó–î–´ ----
      for (let i = 0; i < 100; i++) {
        let star = document.createElement("div");
        star.className = "star";
        star.style.top = Math.random() * window.innerHeight + "px";
        star.style.left = Math.random() * window.innerWidth + "px";
        star.style.animationDuration = 3 + Math.random() * 4 + "s";
        document.body.appendChild(star);
      }

      // ---- –ü–ê–î–ê–Æ–©–ò–ï –ó–í–Å–ó–î–´ ----
      const shootingBtn = document.getElementById("shooting");

      function createFallingStar() {
        let fs = document.createElement("div");
        fs.className = "falling-star";
        fs.style.top = Math.random() * 200 + "px";
        fs.style.left = Math.random() * (window.innerWidth / 2) + "px";
        document.body.appendChild(fs);
        setTimeout(() => fs.remove(), 2000);
      }

      shootingBtn.onclick = () => {
        createFallingStar();
        createHeart(shootingBtn);
      };

      // ---- –°–ï–†–î–ï–ß–ö–ò ----
      function createHeart(element) {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.textContent = "üíú";
        const rect = element.getBoundingClientRect();
        heart.style.left = (rect.left + rect.width / 2) + "px";
        heart.style.top = (rect.top + rect.height / 2) + "px";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 3000);
      }

      // –î–æ–±–∞–≤–ª—è–µ–º —Å–µ—Ä–¥–µ—á–∫–∏ –∫ –∫–Ω–æ–ø–∫–∞–º
      document.querySelectorAll('button').forEach(btn => {
        btn.addEventListener('click', (e) => {
          if (e.target.id !== 'shooting') {
            setTimeout(() => createHeart(e.target), 100);
          }
        });
      });

      function randomFallingStars() {
        createFallingStar();
        let nextTime = 1000 + Math.random() * 1000;
        setTimeout(randomFallingStars, nextTime);
      }
      setTimeout(randomFallingStars, 1500);

      // üéÅ –ü–∞—Å—Ö–∞–ª–∫–∞ 1: —Ç—Ä—è—Å–∫–∞ iPhone ‚Üí –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
      if (window.DeviceMotionEvent) {
        let lastX, lastY, lastZ;
        window.addEventListener("devicemotion", (e) => {
          let acc = e.accelerationIncludingGravity;
          if (!acc.x) return;
          let deltaX = Math.abs(acc.x - (lastX || 0));
          let deltaY = Math.abs(acc.y - (lastY || 0));
          let deltaZ = Math.abs(acc.z - (lastZ || 0));
          if (deltaX + deltaY + deltaZ > 30) {
            launchConfetti();
          }
          lastX = acc.x;
          lastY = acc.y;
          lastZ = acc.z;
        });
      }

      function launchConfetti() {
        for (let i = 0; i < 80; i++) {
          let conf = document.createElement("div");
          conf.style.position = "absolute";
          conf.style.top = "0px";
          conf.style.left = Math.random() * window.innerWidth + "px";
          conf.style.width = "10px";
          conf.style.height = "10px";
          conf.style.background = `hsl(${Math.random() * 360},100%,70%)`;
          conf.style.borderRadius = Math.random() > 0.5 ? "50%" : "0px";
          conf.style.opacity = "0.9";
          conf.style.transform = `rotate(${Math.random() * 360}deg)`;
          conf.style.boxShadow = `0 0 8px hsl(${Math.random() * 360},100%,70%)`;
          conf.style.transition =
            "transform 3s cubic-bezier(0.4, 0, 0.2, 1), top 3s ease, opacity 3s ease, left 2s ease";
          document.body.appendChild(conf);
          setTimeout(() => {
            conf.style.top = window.innerHeight + 100 + "px";
            conf.style.left = (parseFloat(conf.style.left) + (Math.random() - 0.5) * 150) + "px";
            conf.style.transform = `rotate(${Math.random() * 720}deg) scale(0.3)`;
            conf.style.opacity = "0";
          }, 50);
          setTimeout(() => conf.remove(), 3500);
        }
      }

      // üéÅ –ü–∞—Å—Ö–∞–ª–∫–∞ 2: –∫–ª–∏–∫ –ø–æ –ª—É–Ω–µ
      document.querySelector(".moon").onclick = () => {
        launchConfetti();
        setTimeout(() => alert("–≠—Ç–æ –±—ã–ª–æ –æ—á–µ–≤–∏–¥–Ω–æ! –ò—â–∏ –¥–∞–ª—å—à–µ üíú"), 500);
      };

      // üéÅ –ü–∞—Å—Ö–∞–ª–∫–∞ 3: —Ç—Ä–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É
      let clicks = 0;
      const title = document.getElementById("title");
      title.addEventListener("click", () => {
        clicks++;
        if (clicks === 3) {
          alert("üê± –ú—è—É!");
          clicks = 0;
        }
        setTimeout(() => (clicks = 0), 1000);
      });

      // üéÅ –ü–∞—Å—Ö–∞–ª–∫–∞ 4: –¥–æ–ª–≥–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –º—É–∑—ã–∫–∏ ‚Üí secret.mp3
      let holdTimer;
      musicBtn.addEventListener("mousedown", () => {
        holdTimer = setTimeout(() => {
          audio.src = "secret.mp3";
          audio.play();
          alert("–°–µ–∫—Ä–µ—Ç–Ω–∞—è –ø–µ—Å–Ω—è");
        }, 2000);
      });
      musicBtn.addEventListener("mouseup", () => clearTimeout(holdTimer));

      // üéÅ –ü–∞—Å—Ö–∞–ª–∫–∞ 5: —Å–≤–∞–π–ø –≤–≤–µ—Ä—Ö ‚Üí —Å–º–µ–Ω–∞ —Ñ–æ–Ω–∞
      let startY;
      document.addEventListener("touchstart", (e) => {
        startY = e.touches[0].clientY;
      });
      document.addEventListener("touchend", (e) => {
        let endY = e.changedTouches[0].clientY;
        if (startY - endY > 100) {
          document.body.style.background =
            "linear-gradient(135deg, #ff9a9e, #fad0c4)";
          alert("–°–º–µ–Ω–∏–º —Å—É–º–µ—Ä–∫–∏ –Ω–∞ —Ä–æ–∑–æ–≤—ã–π –¥–µ–Ω—å)");
        }
      });

      // üéÅ –ü–∞—Å—Ö–∞–ª–∫–∞ 6: –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ —Å—Ç–∏—Ö–∞—Ö ‚Üí —Å–µ—Ä–¥–µ—á–∫–∏
      poemEl.addEventListener("dblclick", () => {
        for (let i = 0; i < 15; i++) {
          setTimeout(() => {
            createHeart({
              getBoundingClientRect: () => ({
                left: Math.random() * window.innerWidth,
                top: Math.random() * window.innerHeight,
                width: 0,
                height: 0
              })
            });
          }, i * 50);
        }
        launchConfetti();
      });
    </script>
  </body>
</html>
